[tox]
envlist = {py27,py34,py35,py36}--{dj18,dj19,dj110,dj111}, docs

[testenv]
commands = coverage run --source werobot -m py.test
passenv = DATABASE_MYSQL_USERNAME DATABASE_MYSQL_PASSWORD
deps =
  dj18: Django < 1.9
  dj19: Django < 1.10
  dj110: Django < 1.11
  dj111: Django < 1.12
  py27: c:\mysqlclient-1.3.12-cp27-cp27m-win32.whl
  py34: c:\mysqlclient-1.3.12-cp34-cp34m-win32.whl
  py35: c:\mysqlclient-1.3.12-cp35-cp35m-win32.whl
  py36: c:\mysqlclient-1.3.12-cp36-cp36m-win32.whl
  -rwin-tox-requirements.txt

[testenv:docs]
changedir = docs
deps = -rwin-dev-requirements.txt
commands = sphinx-build -W -b html -d {envtmpdir}/doctrees .  {envtmpdir}/html
